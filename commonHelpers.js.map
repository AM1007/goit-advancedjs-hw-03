{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.headers.common['x-api-key'] =\n  'live_uT0RLJgJNg7OIzTQWFoQE9YFbtV4T1dSf8FWLCckGkuLSnpsxwktLbZvzXynYLdg';\n\n/**\n * Function to fetch breeds\n * @returns {Promise<Array>} - A promise with an array of breeds\n */\nexport function fetchBreeds() {\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data)\n    .catch(error => {\n      throw error;\n    });\n}\n\n/**\n * Function to fetch cat information by breed\n * @param {string} breedId - The ID of the cat breed\n * @returns {Promise<Object>} - A promise with cat data\n */\nexport function fetchCatByBreed(breedId) {\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data[0])\n    .catch(error => {\n      throw error;\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst placeholderOption = document.createElement('option');\nplaceholderOption.value = '';\nplaceholderOption.text = 'Choose Your Kitty';\nbreedSelect.appendChild(placeholderOption);\nconst errorPage = document.querySelector('.js-error');\nerrorPage.style.display = 'none';\n\n/**\n * Populate the breed select dropdown\n * @param {*} breeds\n */\nfunction populateBreedSelect(breeds) {\n  breeds.forEach(breed => {\n    const option = document.createElement('option');\n    option.value = breed.id;\n    option.text = breed.name;\n    breedSelect.appendChild(option);\n  });\n}\n\nconst catInfoDiv = document.querySelector('.cat-info');\n\n/**\n * Add CatInfo data markup\n * @param {*} catData\n */\nfunction displayCatInfo(catData) {\n  catInfoDiv.innerHTML = `\n  <div class=\"wrapper\">\n    <img class=\"picture\" src=\"${catData.url}\" alt=\"${catData.breeds[0].name}\">\n    <div class=\"text-content\">\n      <h1 class=\"breed\">${catData.breeds[0].name}</h1>\n      <p class=\"description\">${catData.breeds[0].description}</p>\n      <p class=\"description\"><span class=\"temperament-span\">Temperament:</span> ${catData.breeds[0].temperament}</p>\n      <a class=\"wiki-ref\" href=\"${catData.breeds[0].wikipedia_url}\" target=\"_blank\"> More Info...</a>\n    </div>\n  </div>\n  `;\n  catInfoDiv.style.display = 'block';\n}\n\nconst loader = {\n  icon: '',\n  close: false,\n  progressBar: false,\n  messageColor: 'white',\n  messageSize: '80',\n  overlay: true,\n  overlayColor: '#22222a',\n  backgroundColor: 'transparent',\n  message: 'KITTY, KITTY, KITTY...',\n  position: 'center',\n  transitionIn: 'bounceInRight',\n  transitionOut: 'fadeOutRight',\n  timeout: 5000,\n};\n\n/**\n * Fetch a cat data on page\n */\nfunction handleBreedSelectionChange() {\n  const selectedBreedId = document.querySelector('.breed-select').value;\n  const placeholderOption = document.querySelector(\n    '.breed-select option[value=\"\"]'\n  );\n\n  if (placeholderOption) {\n    document.querySelector('.breed-select').removeChild(placeholderOption);\n  }\n\n  iziToast.show(loader);\n\n  fetchCatByBreed(selectedBreedId)\n    .then(catData => {\n      iziToast.hide({}, document.querySelector('.iziToast'));\n      displayCatInfo(catData);\n      errorPage.style.display = 'none'; // Hide error message on success\n    })\n    .catch(error => {\n      catInfoDiv.innerHTML = ``;\n      errorPage.style.display = 'block';\n      iziToast.hide({}, document.querySelector('.iziToast'));\n      iziToast.error({\n        icon: '',\n        close: false,\n        title: '',\n        message: 'Error fetching cat information. Try again!',\n        position: 'topRight',\n        timeout: 5000,\n      });\n      console.error(error);\n    });\n}\n\ndocument\n  .querySelector('.breed-select')\n  .addEventListener('change', handleBreedSelectionChange);\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  iziToast.show(loader);\n\n  fetchBreeds()\n    .then(breeds => {\n      iziToast.hide({}, document.querySelector('.iziToast'));\n      populateBreedSelect(breeds);\n      document.querySelector('.breed-select').style.display = 'block';\n      errorPage.style.display = 'none'; // Hide error message on success\n    })\n    .catch(error => {\n      iziToast.hide({}, document.querySelector('.iziToast'));\n      catInfoDiv.innerHTML = ``;\n      errorPage.style.display = 'block';\n      iziToast.error({\n        icon: '',\n        close: false,\n        title: '',\n        message: 'Error fetching cat breeds. Try again!',\n        position: 'topRight',\n        timeout: 5000,\n      });\n      console.error('Error fetching breeds:', error);\n    });\n});\n"],"names":["axios","fetchBreeds","response","error","fetchCatByBreed","breedId","breedSelect","placeholderOption","errorPage","populateBreedSelect","breeds","breed","option","catInfoDiv","displayCatInfo","catData","loader","handleBreedSelectionChange","selectedBreedId","iziToast"],"mappings":"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"}