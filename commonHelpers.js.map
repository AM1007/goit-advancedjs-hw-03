{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.headers.common['x-api-key'] =\n  'live_uT0RLJgJNg7OIzTQWFoQE9YFbtV4T1dSf8FWLCckGkuLSnpsxwktLbZvzXynYLdg';\n\n/**\n * Function to fetch breeds and populate the breed select dropdown\n * @returns\n */\nexport function fetchBreeds() {\n  return new Promise((resolve, reject) => {\n    axios\n      .get('https://api.thecatapi.com/v1/breeds')\n      .then(response => {\n        const breeds = response.data;\n        const breedSelect = document.querySelector('.breed-select');\n\n        breeds.forEach(breed => {\n          const option = document.createElement('option');\n          option.value = breed.id;\n          option.text = breed.name;\n          breedSelect.appendChild(option);\n        });\n\n        resolve(breeds);\n      })\n      .catch(error => {\n        reject(error);\n      });\n  });\n}\n\n/**\n * Function to fetch cat information by breed\n * @param {*} breedId\n * @returns\n */\nexport function fetchCatByBreed(breedId) {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n      .then(response => {\n        const catData = response.data[0];\n        resolve(catData);\n      })\n      .catch(error => {\n        reject(error);\n      });\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\n/**\n * Function to handle the breed selection change event\n */\nfunction handleBreedSelectionChange() {\n  const selectedBreedId = document.querySelector('.breed-select').value;\n  document.querySelector('.loader').style.display = 'block';\n  document.querySelector('.cat-info').style.display = 'none';\n\n  // Fetch cat information based on the selected breed\n  fetchCatByBreed(selectedBreedId)\n    .then(catData => {\n      // Display cat information\n      const catInfoDiv = document.querySelector('.cat-info');\n      catInfoDiv.innerHTML = `\n        <img src=\"${catData.url}\" width=\"500\" alt=\"${catData.breeds[0].name}\">\n        <p>Breed: ${catData.breeds[0].name}</p>\n        <p>Description: ${catData.breeds[0].description}</p>\n        <p>Temperament: ${catData.breeds[0].temperament}</p>\n      `;\n\n      // Hide loader and display cat information\n      document.querySelector('.loader').style.display = 'none';\n      catInfoDiv.style.display = 'block';\n    })\n    .catch(error => {\n      // Display error message\n      document.querySelector('.loader').style.display = 'none';\n      document.querySelector('.error').style.display = 'block';\n      iziToast.error({\n        message: `Error fetching cat information:`,\n        position: 'topRight',\n      });\n      console.error(`${error.message}`, error);\n    });\n}\n\n// Set up event listener for breed selection change\ndocument\n  .querySelector('.breed-select')\n  .addEventListener('change', handleBreedSelectionChange);\n\n// Fetch breeds and populate the breed select dropdown on page load\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Display loader while fetching breeds\n  document.querySelector('.loader').style.display = 'block';\n  document.querySelector('.cat-info').style.display = 'none';\n\n  // Fetch breeds and populate the breed select dropdown\n  fetchBreeds()\n    .then(() => {\n      document.querySelector('.loader').style.display = 'none';\n      document.querySelector('.breed-select').style.display = 'block';\n    })\n    .catch(error => {\n      document.querySelector('.loader').style.display = 'none';\n      document.querySelector('.error').style.display = 'block';\n      iziToast.error({\n        message: `Error fetching breeds:`,\n        position: 'topRight',\n      });\n      console.error(`${error.message}`, error);\n    });\n});\n"],"names":["axios","fetchBreeds","resolve","reject","response","breeds","breedSelect","breed","option","error","fetchCatByBreed","breedId","catData","handleBreedSelectionChange","selectedBreedId","catInfoDiv","iziToast"],"mappings":"6vBACAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAMK,SAASC,GAAc,CAC5B,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtCH,EACG,IAAI,qCAAqC,EACzC,KAAKI,GAAY,CAChB,MAAMC,EAASD,EAAS,KAClBE,EAAc,SAAS,cAAc,eAAe,EAE1DD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,KAAOD,EAAM,KACpBD,EAAY,YAAYE,CAAM,CACxC,CAAS,EAEDN,EAAQG,CAAM,CACtB,CAAO,EACA,MAAMI,GAAS,CACdN,EAAOM,CAAK,CACpB,CAAO,CACP,CAAG,CACH,CAOO,SAASC,EAAgBC,EAAS,CACvC,OAAO,IAAI,QAAQ,CAACT,EAASC,IAAW,CACtCH,EACG,IAAI,wDAAwDW,GAAS,EACrE,KAAKP,GAAY,CAChB,MAAMQ,EAAUR,EAAS,KAAK,GAC9BF,EAAQU,CAAO,CACvB,CAAO,EACA,MAAMH,GAAS,CACdN,EAAOM,CAAK,CACpB,CAAO,CACP,CAAG,CACH,CCzCA,SAASI,GAA6B,CACpC,MAAMC,EAAkB,SAAS,cAAc,eAAe,EAAE,MAChE,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAClD,SAAS,cAAc,WAAW,EAAE,MAAM,QAAU,OAGpDJ,EAAgBI,CAAe,EAC5B,KAAKF,GAAW,CAEf,MAAMG,EAAa,SAAS,cAAc,WAAW,EACrDA,EAAW,UAAY;AAAA,oBACTH,EAAQ,yBAAyBA,EAAQ,OAAO,GAAG;AAAA,oBACnDA,EAAQ,OAAO,GAAG;AAAA,0BACZA,EAAQ,OAAO,GAAG;AAAA,0BAClBA,EAAQ,OAAO,GAAG;AAAA,QAItC,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAClDG,EAAW,MAAM,QAAU,OACjC,CAAK,EACA,MAAMN,GAAS,CAEd,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAClD,SAAS,cAAc,QAAQ,EAAE,MAAM,QAAU,QACjDO,EAAS,MAAM,CACb,QAAS,kCACT,SAAU,UAClB,CAAO,EACD,QAAQ,MAAM,GAAGP,EAAM,UAAWA,CAAK,CAC7C,CAAK,CACL,CAGA,SACG,cAAc,eAAe,EAC7B,iBAAiB,SAAUI,CAA0B,EAGxD,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAClD,SAAS,cAAc,WAAW,EAAE,MAAM,QAAU,OAGpDZ,EAAa,EACV,KAAK,IAAM,CACV,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAClD,SAAS,cAAc,eAAe,EAAE,MAAM,QAAU,OAC9D,CAAK,EACA,MAAMQ,GAAS,CACd,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAClD,SAAS,cAAc,QAAQ,EAAE,MAAM,QAAU,QACjDO,EAAS,MAAM,CACb,QAAS,yBACT,SAAU,UAClB,CAAO,EACD,QAAQ,MAAM,GAAGP,EAAM,UAAWA,CAAK,CAC7C,CAAK,CACL,CAAC"}